<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HEROES ARENA | Epic RPG Battle</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò */
        :root {
            --bg-primary: #0a0e14;
            --bg-secondary: #141b26;
            --bg-card: #1c232b;
            --border: #2d3748;
            --text-primary: #ffffff;
            --text-secondary: #94a3b8;
            --accent-blue: #00b4d8;
            --accent-green: #34a853;
            --accent-red: #ea4335;
            --accent-yellow: #fbbc04;
            --accent-purple: #8a2be2;
            --hp-color: #ff6b6b;
            --energy-color: #00b4d8;
            --mana-color: #8a2be2;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            font-family: 'Segoe UI', 'Roboto', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0a0e14 0%, #1a2639 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* –ì–†–ê–î–ò–ï–ù–¢–ù–´–ô –§–û–ù */
        .gradient-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 180, 216, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(138, 43, 226, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(251, 188, 4, 0.05) 0%, transparent 50%);
            z-index: -1;
        }
        
        /* –ö–û–ù–¢–ï–ô–ù–ï–† –ò–ì–†–´ */
        #game-container {
            max-width: 480px;
            margin: 0 auto;
            position: relative;
            min-height: 100vh;
            background: rgba(10, 14, 20, 0.95);
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
        }
        
        /* –®–ê–ü–ö–ê –ò–ì–†–û–ö–ê */
        .player-header {
            background: linear-gradient(to bottom, #1c232b, #141b26);
            padding: 12px 16px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        
        .player-avatar {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .avatar-circle {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            border: 2px solid var(--accent-yellow);
            position: relative;
            overflow: hidden;
        }
        
        .avatar-circle::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            animation: shine 3s infinite linear;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .player-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        .player-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .level-bar {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .level-text {
            font-size: 12px;
            color: var(--text-secondary);
            min-width: 50px;
        }
        
        .xp-bar-container {
            width: 100px;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .xp-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-green), var(--accent-blue));
            width: 20%;
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }
        
        .xp-bar-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: xp-shine 2s infinite;
        }
        
        @keyframes xp-shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        /* –†–ï–°–£–†–°–´ */
        .resources {
            display: flex;
            gap: 16px;
        }
        
        .resource-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
        }
        
        .resource-icon {
            font-size: 20px;
            color: var(--accent-yellow);
        }
        
        .resource-value {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .resource-max {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        /* –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù –ë–ò–¢–í–´ */
        .battle-screen {
            padding: 16px;
            position: relative;
        }
        
        /* –ê–ù–ò–ú–ò–†–û–í–ê–ù–ù–´–ô –§–û–ù –ë–ò–¢–í–´ */
        .battle-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 300px;
            background: linear-gradient(to bottom, rgba(20, 27, 38, 0.8), rgba(10, 14, 20, 0.9));
            z-index: 0;
            overflow: hidden;
        }
        
        .floating-particles {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        
        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: var(--accent-blue);
            border-radius: 50%;
            opacity: 0.5;
            animation: float-particle 20s infinite linear;
        }
        
        @keyframes float-particle {
            0% {
                transform: translateY(0) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100px) translateX(100px);
                opacity: 0;
            }
        }
        
        /* –ü–ê–ù–ï–õ–¨ –†–ï–ñ–ò–ú–û–í */
        .game-modes {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }
        
        .mode-card {
            background: rgba(28, 35, 43, 0.8);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 15px 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        
        .mode-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.05) 50%, transparent 70%);
            transform: translateX(-100%);
        }
        
        .mode-card:hover::before {
            animation: card-shine 1s;
        }
        
        @keyframes card-shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .mode-card:hover {
            transform: translateY(-3px) scale(1.02);
            border-color: var(--accent-blue);
            box-shadow: 0 10px 25px rgba(0, 180, 216, 0.2);
        }
        
        .mode-card.active {
            background: linear-gradient(135deg, rgba(0, 180, 216, 0.2), rgba(138, 43, 226, 0.2));
            border-color: var(--accent-blue);
            box-shadow: 0 0 30px rgba(0, 180, 216, 0.3);
        }
        
        .mode-icon {
            font-size: 32px;
            margin-bottom: 5px;
            filter: drop-shadow(0 0 5px currentColor);
        }
        
        .mode-name {
            font-size: 14px;
            font-weight: 600;
            text-align: center;
            color: var(--text-primary);
        }
        
        .mode-subtitle {
            font-size: 11px;
            color: var(--text-secondary);
            text-align: center;
        }
        
        /* –ü–ê–ù–ï–õ–¨ –°–¢–ê–¢–ò–°–¢–ò–ö–ò */
        .stats-panel {
            background: linear-gradient(135deg, 
                rgba(28, 35, 43, 0.9) 0%,
                rgba(20, 27, 38, 0.9) 100%);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--border);
            position: relative;
            z-index: 1;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .stats-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .stats-title {
            font-size: 20px;
            font-weight: 700;
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .power-display {
            background: linear-gradient(135deg, var(--accent-red), #c53030);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 0 15px rgba(234, 67, 53, 0.3);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid transparent;
            transition: all 0.3s;
        }
        
        .stat-item:hover {
            border-color: var(--accent-blue);
            background: rgba(0, 180, 216, 0.1);
        }
        
        .stat-label {
            font-size: 14px;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
        }
        
        /* –ê–ù–ò–ú–ò–†–û–í–ê–ù–ù–´–ô –ü–ï–†–°–û–ù–ê–ñ */
        .character-container {
            position: relative;
            height: 180px;
            margin: 20px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2;
        }
        
        .character {
            position: relative;
            width: 150px;
            height: 150px;
        }
        
        .character-body {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .character-avatar {
            font-size: 100px;
            filter: drop-shadow(0 0 20px rgba(0, 180, 216, 0.5));
            animation: character-idle 4s ease-in-out infinite;
        }
        
        @keyframes character-idle {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
                filter: drop-shadow(0 0 20px rgba(0, 180, 216, 0.5));
            }
            50% {
                transform: translateY(-15px) rotate(5deg);
                filter: drop-shadow(0 0 30px rgba(138, 43, 226, 0.7));
            }
        }
        
        .character-halo {
            position: absolute;
            width: 180px;
            height: 180px;
            background: radial-gradient(circle, rgba(0, 180, 216, 0.2), transparent 70%);
            border-radius: 50%;
            animation: halo-pulse 3s infinite;
        }
        
        @keyframes halo-pulse {
            0%, 100% {
                transform: scale(1);
                opacity: 0.5;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }
        
        /* –ö–í–ï–°–¢–´ –ò –ó–ê–î–ê–ù–ò–Ø */
        .quests-panel {
            background: linear-gradient(135deg, 
                rgba(28, 35, 43, 0.9) 0%,
                rgba(20, 27, 38, 0.9) 100%);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--border);
            position: relative;
            z-index: 1;
            backdrop-filter: blur(10px);
        }
        
        .quests-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .quests-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
        }
        
        .quests-timer {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            color: var(--accent-yellow);
        }
        
        .quest-item {
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.05) 0%,
                rgba(0, 180, 216, 0.05) 100%);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid var(--accent-blue);
            transition: all 0.3s;
        }
        
        .quest-item:hover {
            transform: translateX(5px);
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.08) 0%,
                rgba(0, 180, 216, 0.08) 100%);
        }
        
        .quest-info {
            flex: 1;
        }
        
        .quest-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-primary);
        }
        
        .quest-progress {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .progress-container {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-green), var(--accent-blue));
            border-radius: 3px;
            position: relative;
            overflow: hidden;
        }
        
        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: progress-shine 2s infinite;
        }
        
        @keyframes progress-shine {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .quest-reward {
            background: linear-gradient(135deg, var(--accent-yellow), #f59e0b);
            padding: 8px 12px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(251, 188, 4, 0.3);
        }
        
        /* –ö–ù–û–ü–ö–ò –î–ï–ô–°–¢–í–ò–ô */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }
        
        .action-button {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            border: none;
            border-radius: 12px;
            padding: 15px 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .action-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        
        .action-button:hover::before {
            left: 100%;
        }
        
        .action-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 180, 216, 0.4);
        }
        
        .action-button:active {
            transform: translateY(-1px);
        }
        
        .action-icon {
            font-size: 24px;
        }
        
        .action-label {
            font-size: 14px;
            font-weight: 600;
            text-align: center;
        }
        
        /* –ù–ò–ñ–ù–Ø–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø */
        .bottom-navigation {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 480px;
            background: linear-gradient(to top, #1c232b, #141b26);
            border-top: 1px solid var(--border);
            padding: 10px 20px;
            display: flex;
            justify-content: space-around;
            z-index: 1000;
            backdrop-filter: blur(20px);
        }
        
        .nav-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 10px;
            transition: all 0.3s;
            min-width: 60px;
        }
        
        .nav-button.active {
            background: rgba(0, 180, 216, 0.2);
            transform: translateY(-5px);
        }
        
        .nav-button:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .nav-icon {
            font-size: 20px;
        }
        
        .nav-label {
            font-size: 12px;
            font-weight: 500;
        }
        
        .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--accent-red);
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
            min-width: 18px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(234, 67, 53, 0.4);
        }
        
        /* –í–ï–†–°–ò–Ø –ò–ì–†–´ */
        .game-version {
            position: fixed;
            bottom: 5px;
            right: 5px;
            font-size: 10px;
            color: var(--text-secondary);
            z-index: 1001;
            background: rgba(0, 0, 0, 0.5);
            padding: 2px 6px;
            border-radius: 8px;
        }
        
        /* –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø */
        .notification {
            position: fixed;
            top: 80px;
            right: 20px;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            z-index: 10000;
            transform: translateX(150%);
            transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            max-width: 300px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        /* –ó–ê–ì–†–£–ó–û–ß–ù–´–ô –≠–ö–†–ê–ù */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-primary);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100000;
            transition: opacity 0.5s;
        }
        
        .loading-logo {
            font-size: 48px;
            font-weight: 700;
            background: linear-gradient(45deg, var(--accent-blue), var(--accent-purple), var(--accent-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            text-shadow: 0 0 30px rgba(0, 180, 216, 0.3);
        }
        
        .loading-progress {
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            margin-top: 20px;
        }
        
        .loading-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple));
            width: 0%;
            border-radius: 2px;
            transition: width 0.3s;
        }
        
        /* –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100001;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        
        .modal.show {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1c232b, #141b26);
            border-radius: 20px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            border: 2px solid var(--accent-blue);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
        }
        
        .modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple));
        }
        
        /* –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ */
        @media (max-width: 480px) {
            .character-avatar {
                font-size: 80px;
            }
            
            .character {
                width: 120px;
                height: 120px;
            }
            
            .character-halo {
                width: 140px;
                height: 140px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .game-modes {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .action-buttons {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* –ê–ù–ò–ú–ê–¶–ò–ò */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 5px currentColor); }
            50% { filter: drop-shadow(0 0 20px currentColor); }
        }
        
        .float-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        .glow-animation {
            animation: glow 2s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <!-- –ì–†–ê–î–ò–ï–ù–¢–ù–´–ô –§–û–ù -->
    <div class="gradient-bg"></div>
    
    <!-- –ó–ê–ì–†–£–ó–û–ß–ù–´–ô –≠–ö–†–ê–ù -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-logo">HEROES ARENA</div>
        <div style="color: var(--text-secondary); margin-bottom: 20px;">Epic RPG Battle Adventure</div>
        <div class="loading-progress">
            <div id="loading-bar" class="loading-bar"></div>
        </div>
    </div>
    
    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† -->
    <div id="game-container" style="display: none;">
        <!-- –®–ê–ü–ö–ê –ò–ì–†–û–ö–ê -->
        <div class="player-header">
            <div class="player-avatar">
                <div class="avatar-circle">‚öîÔ∏è</div>
                <div class="player-info">
                    <div class="player-name" id="player-name">DRAGON SLAYER</div>
                    <div class="level-bar">
                        <div class="level-text">–£—Ä–æ–≤–µ–Ω—å <span id="level">20</span></div>
                        <div class="xp-bar-container">
                            <div id="xp-bar" class="xp-bar-fill"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="resources">
                <div class="resource-item">
                    <div class="resource-icon">‚≠ê</div>
                    <div class="resource-value" id="stars">250</div>
                    <div class="resource-max">/250</div>
                </div>
                <div class="resource-item">
                    <div class="resource-icon">‚ö°</div>
                    <div class="resource-value" id="energy">10</div>
                </div>
            </div>
        </div>
        
        <!-- –û–°–ù–û–í–ù–û–ô –≠–ö–†–ê–ù -->
        <div id="main-screen" class="battle-screen">
            <!-- –ê–ù–ò–ú–ò–†–û–í–ê–ù–ù–´–ô –§–û–ù -->
            <div class="battle-background">
                <div class="floating-particles" id="particles"></div>
            </div>
            
            <!-- –ü–ê–ù–ï–õ–¨ –†–ï–ñ–ò–ú–û–í -->
            <div class="game-modes">
                <div class="mode-card active" onclick="selectMode('free')">
                    <div class="mode-icon">‚öîÔ∏è</div>
                    <div class="mode-name">FREE</div>
                    <div class="mode-subtitle">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –±–æ–∏</div>
                </div>
                <div class="mode-card" onclick="selectMode('tournament')">
                    <div class="mode-icon">üèÜ</div>
                    <div class="mode-name">–¢–£–†–ù–ò–†</div>
                    <div class="mode-subtitle">–°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è</div>
                </div>
                <div class="mode-card" onclick="selectMode('leaderboard')">
                    <div class="mode-icon">üìä</div>
                    <div class="mode-name">–õ–ò–î–ï–†–´</div>
                    <div class="mode-subtitle">–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</div>
                </div>
                <div class="mode-card" onclick="selectMode('special')">
                    <div class="mode-icon">üéØ</div>
                    <div class="mode-name">–°–ü–ï–¶</div>
                    <div class="mode-subtitle">–û—Å–æ–±—ã–µ —Å–æ–±—ã—Ç–∏—è</div>
                </div>
                <div class="mode-card" onclick="selectMode('story')">
                    <div class="mode-icon">üìñ</div>
                    <div class="mode-name">–ò–°–¢–û–†–ò–Ø</div>
                    <div class="mode-subtitle">–°—é–∂–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º</div>
                </div>
                <div class="mode-card" onclick="selectMode('duel')">
                    <div class="mode-icon">üî•</div>
                    <div class="mode-name">–î–£–≠–õ–ò</div>
                    <div class="mode-subtitle">PvP —Å—Ä–∞–∂–µ–Ω–∏—è</div>
                </div>
            </div>
            
            <!-- –ê–ù–ò–ú–ò–†–û–í–ê–ù–ù–´–ô –ü–ï–†–°–û–ù–ê–ñ -->
            <div class="character-container">
                <div class="character-halo"></div>
                <div class="character">
                    <div class="character-body">
                        <div id="character-avatar" class="character-avatar">ü¶∏‚Äç‚ôÇÔ∏è</div>
                    </div>
                </div>
            </div>
            
            <!-- –ü–ê–ù–ï–õ–¨ –°–¢–ê–¢–ò–°–¢–ò–ö–ò -->
            <div class="stats-panel">
                <div class="stats-header">
                    <div class="stats-title">–°–¢–ê–¢–ò–°–¢–ò–ö–ê</div>
                    <div class="power-display">
                        <i class="fas fa-bolt"></i> 1159
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">–ê—Ç–∞–∫–∞</div>
                        <div class="stat-value">26</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–ó–¥–æ—Ä–æ–≤—å–µ</div>
                        <div class="stat-value">111</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–ö—Ä–∏—Ç. —É—Ä–æ–Ω</div>
                        <div class="stat-value">15%</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–ó–∞—â–∏—Ç–∞</div>
                        <div class="stat-value">12</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–°–∫–æ—Ä–æ—Å—Ç—å</div>
                        <div class="stat-value">24</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–£–∫–ª–æ–Ω–µ–Ω–∏–µ</div>
                        <div class="stat-value">8%</div>
                    </div>
                </div>
            </div>
            
            <!-- –ö–í–ï–°–¢–´ -->
            <div class="quests-panel">
                <div class="quests-header">
                    <div class="quests-title">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã</div>
                    <div class="quests-timer">
                        <i class="fas fa-clock"></i> 6:28:10
                    </div>
                </div>
                
                <div class="quest-item">
                    <div class="quest-info">
                        <div class="quest-name">–°—ã–≥—Ä–∞—Ç—å 19 –º–∞—Ç—á–µ–π</div>
                        <div class="quest-progress">
                            <div class="progress-container">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                            <span style="font-size: 12px; color: var(--text-secondary);">0/19</span>
                        </div>
                    </div>
                    <div class="quest-reward">
                        <i class="fas fa-gem"></i> 25
                    </div>
                </div>
                
                <div class="quest-item">
                    <div class="quest-info">
                        <div class="quest-name">–ó–∞–Ω—è—Ç—å 46 –º–µ—Å—Ç–æ</div>
                        <div class="quest-progress">
                            <div class="progress-container">
                                <div class="progress-fill" style="width: 46%"></div>
                            </div>
                            <span style="font-size: 12px; color: var(--text-secondary);">46/100</span>
                        </div>
                    </div>
                    <div class="quest-reward">
                        <i class="fas fa-coins"></i> 300
                    </div>
                </div>
            </div>
            
            <!-- –ö–ù–û–ü–ö–ò –î–ï–ô–°–¢–í–ò–ô -->
            <div class="action-buttons">
                <button class="action-button" onclick="startBattle()">
                    <div class="action-icon">üéÆ</div>
                    <div class="action-label">–ù–ê–ß–ê–¢–¨ –ë–û–ô</div>
                </button>
                <button class="action-button" onclick="autoBattle()">
                    <div class="action-icon">‚öôÔ∏è</div>
                    <div class="action-label">–ê–í–¢–û-–ë–ò–¢–í–ê</div>
                </button>
                <button class="action-button" onclick="openSkills()">
                    <div class="action-icon">üå≥</div>
                    <div class="action-label">–î–ï–†–ï–í–û –ù–ê–í–´–ö–û–í</div>
                </button>
            </div>
        </div>
        
        <!-- –ù–ò–ñ–ù–Ø–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
        <div class="bottom-navigation">
            <div class="nav-button active" onclick="openScreen('battle')">
                <div class="nav-icon">‚öîÔ∏è</div>
                <div class="nav-label">–ë–∏—Ç–≤–∞</div>
            </div>
            <div class="nav-button" onclick="openScreen('market')">
                <div class="nav-icon">üè™</div>
                <div class="nav-label">–ú–∞–≥–∞–∑–∏–Ω</div>
                <div class="badge">1</div>
            </div>
            <div class="nav-button" onclick="openScreen('inventory')">
                <div class="nav-icon">üéí</div>
                <div class="nav-label">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
            </div>
            <div class="nav-button" onclick="openScreen('skills')">
                <div class="nav-icon">üå≥</div>
                <div class="nav-label">–ù–∞–≤—ã–∫–∏</div>
            </div>
            <div class="nav-button" onclick="openScreen('earn')">
                <div class="nav-icon">üíé</div>
                <div class="nav-label">–ó–∞—Ä–∞–±–æ—Ç–æ–∫</div>
                <div class="badge">3</div>
            </div>
        </div>
        
        <!-- –í–ï–†–°–ò–Ø -->
        <div class="game-version">Version: 1.14.71</div>
    </div>
    
    <!-- –£–í–ï–î–û–ú–õ–ï–ù–ò–ï -->
    <div id="notification" class="notification">
        <div id="notification-text"></div>
    </div>
    
    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <h3 id="modal-title" style="margin-bottom: 15px;"></h3>
            <p id="modal-message" style="margin-bottom: 20px;"></p>
            <div style="display: flex; gap: 10px;">
                <button id="modal-confirm" class="action-button" style="flex: 1;">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                <button id="modal-cancel" class="action-button" style="flex: 1; background: var(--bg-card);">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <script>
        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        let gameState = {
            level: 20,
            xp: 0,
            xpMax: 1000,
            stars: 250,
            energy: 10,
            power: 1159,
            attack: 26,
            hp: 111,
            character: 'warrior',
            currentScreen: 'battle',
            dailyQuests: {
                matches: { current: 0, required: 19, completed: false },
                rank: { current: 46, required: 100, completed: false }
            }
        };
        
        // ========== –ê–ù–ò–ú–ê–¶–ò–ò –ò –≠–§–§–ï–ö–¢–´ ==========
        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.background = i % 3 === 0 ? 'var(--accent-blue)' : 
                                           i % 3 === 1 ? 'var(--accent-purple)' : 'var(--accent-green)';
                container.appendChild(particle);
            }
        }
        
        function animateCharacter() {
            const avatars = ['ü¶∏‚Äç‚ôÇÔ∏è', 'üßô‚Äç‚ôÇÔ∏è', 'üèπ', '‚öîÔ∏è', 'üõ°Ô∏è'];
            let currentIndex = 0;
            
            setInterval(() => {
                const avatar = document.getElementById('character-avatar');
                avatar.style.transform = 'scale(1.2)';
                avatar.style.opacity = '0.8';
                
                setTimeout(() => {
                    currentIndex = (currentIndex + 1) % avatars.length;
                    avatar.textContent = avatars[currentIndex];
                    avatar.style.transform = 'scale(1)';
                    avatar.style.opacity = '1';
                }, 200);
            }, 8000);
        }
        
        function createFloatingEffect() {
            const elements = document.querySelectorAll('.mode-card, .quest-item, .action-button');
            elements.forEach((el, index) => {
                el.style.animationDelay = (index * 0.1) + 's';
            });
        }
        
        // ========== –ò–ì–†–û–í–ê–Ø –õ–û–ì–ò–ö–ê ==========
        function startBattle() {
            if (gameState.energy <= 0) {
                showNotification('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏!', 'error');
                return;
            }
            
            gameState.energy--;
            gameState.dailyQuests.matches.current++;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞—á–∞–ª–∞ –±–æ—è
            const character = document.getElementById('character-avatar');
            character.style.animation = 'none';
            
            setTimeout(() => {
                character.style.animation = 'character-idle 4s ease-in-out infinite';
            }, 100);
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–æ—è
            const win = Math.random() > 0.3;
            const starsEarned = Math.floor(Math.random() * 15) + 5;
            
            if (win) {
                gameState.stars = Math.min(gameState.stars + starsEarned, 250);
                gameState.xp += Math.floor(Math.random() * 30) + 10;
                showNotification(`üéâ –ü–û–ë–ï–î–ê! +${starsEarned}‚≠ê`, 'success');
                
                // –≠—Ñ—Ñ–µ–∫—Ç –ø–æ–±–µ–¥—ã
                createVictoryEffects();
            } else {
                showNotification('üí• –ü–û–†–ê–ñ–ï–ù–ò–ï...', 'error');
            }
            
            updateUI();
            checkLevelUp();
        }
        
        function autoBattle() {
            showNotification('‚öôÔ∏è –ê–≤—Ç–æ-–±–∏—Ç–≤–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ 30 –º–∏–Ω—É—Ç', 'info');
        }
        
        function openSkills() {
            showModal('–î–µ—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤', '–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–≤—ã–∫ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:', () => {
                showNotification('‚úÖ –ù–∞–≤—ã–∫ —É–ª—É—á—à–µ–Ω!', 'success');
            });
        }
        
        // ========== –ò–ù–¢–ï–†–§–ï–ô–° ==========
        function selectMode(mode) {
            const modes = document.querySelectorAll('.mode-card');
            modes.forEach(card => card.classList.remove('active'));
            event.target.classList.add('active');
            
            const modeNames = {
                'free': '–°–≤–æ–±–æ–¥–Ω—ã–π —Ä–µ–∂–∏–º',
                'tournament': '–¢—É—Ä–Ω–∏—Ä',
                'leaderboard': '–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤',
                'special': '–û—Å–æ–±—ã–µ —Å–æ–±—ã—Ç–∏—è',
                'story': '–°—é–∂–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º',
                'duel': '–î—É—ç–ª–∏'
            };
            
            showNotification(`üéÆ –í—ã–±—Ä–∞–Ω —Ä–µ–∂–∏–º: ${modeNames[mode]}`, 'info');
        }
        
        function openScreen(screen) {
            gameState.currentScreen = screen;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª–∞ –±—ã –∑–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Ä–∞–Ω–∞
            const screenNames = {
                'battle': '–ë–∏—Ç–≤–∞',
                'market': '–ú–∞–≥–∞–∑–∏–Ω',
                'inventory': '–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å',
                'skills': '–î–µ—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤',
                'earn': '–ó–∞—Ä–∞–±–æ—Ç–æ–∫'
            };
            
            showNotification(`üì± –û—Ç–∫—Ä—ã—Ç —Ä–∞–∑–¥–µ–ª: ${screenNames[screen]}`, 'info');
        }
        
        function updateUI() {
            document.getElementById('level').textContent = gameState.level;
            document.getElementById('stars').textContent = gameState.stars;
            document.getElementById('energy').textContent = gameState.energy;
            
            const xpPercent = (gameState.xp / gameState.xpMax) * 100;
            document.getElementById('xp-bar').style.width = xpPercent + '%';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–æ–≤
            const matchProgress = document.querySelector('.quest-item:nth-child(1) .progress-fill');
            const rankProgress = document.querySelector('.quest-item:nth-child(2) .progress-fill');
            
            if (matchProgress) {
                const matchPercent = (gameState.dailyQuests.matches.current / 
                                    gameState.dailyQuests.matches.required) * 100;
                matchProgress.style.width = matchPercent + '%';
            }
            
            if (rankProgress) {
                const rankPercent = (gameState.dailyQuests.rank.current / 
                                   gameState.dailyQuests.rank.required) * 100;
                rankProgress.style.width = rankPercent + '%';
            }
        }
        
        function checkLevelUp() {
            if (gameState.xp >= gameState.xpMax) {
                gameState.level++;
                gameState.xp = 0;
                gameState.xpMax = Math.floor(gameState.xpMax * 1.5);
                
                showNotification(`üéá –£–†–û–í–ï–ù–¨ ${gameState.level}! –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–∫—Ä—ã—Ç—ã!`, 'success');
                createLevelUpEffects();
                
                updateUI();
            }
        }
        
        // ========== –≠–§–§–ï–ö–¢–´ ==========
        function createVictoryEffects() {
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const star = document.createElement('div');
                    star.textContent = '‚≠ê';
                    star.style.position = 'fixed';
                    star.style.top = Math.random() * 100 + 'vh';
                    star.style.left = Math.random() * 100 + 'vw';
                    star.style.fontSize = (Math.random() * 24 + 16) + 'px';
                    star.style.opacity = '0';
                    star.style.transform = 'scale(0)';
                    star.style.transition = 'all 0.5s ease-out';
                    star.style.zIndex = '10000';
                    
                    document.body.appendChild(star);
                    
                    setTimeout(() => {
                        star.style.opacity = '1';
                        star.style.transform = 'scale(1)';
                    }, 10);
                    
                    setTimeout(() => {
                        star.style.opacity = '0';
                        star.style.transform = 'scale(0) translateY(-50px)';
                        setTimeout(() => star.remove(), 500);
                    }, 1000);
                }, i * 100);
            }
        }
        
        function createLevelUpEffects() {
            const colors = ['#00b4d8', '#8a2be2', '#34a853', '#fbbc04'];
            
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.style.position = 'fixed';
                    particle.style.top = '50%';
                    particle.style.left = '50%';
                    particle.style.width = Math.random() * 20 + 5 + 'px';
                    particle.style.height = particle.style.width;
                    particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                    particle.style.borderRadius = '50%';
                    particle.style.opacity = '0';
                    particle.style.transform = 'translate(-50%, -50%) scale(0)';
                    particle.style.zIndex = '10000';
                    
                    document.body.appendChild(particle);
                    
                    // –í–∑—Ä—ã–≤
                    setTimeout(() => {
                        particle.style.opacity = '1';
                        particle.style.transform = 'translate(-50%, -50%) scale(1)';
                    }, 10);
                    
                    // –†–∞–∑–ª–µ—Ç
                    setTimeout(() => {
                        const angle = Math.random() * Math.PI * 2;
                        const distance = Math.random() * 200 + 100;
                        const x = Math.cos(angle) * distance;
                        const y = Math.sin(angle) * distance;
                        
                        particle.style.opacity = '0';
                        particle.style.transform = `translate(calc(-50% + ${x}px), calc(-50% + ${y}px)) scale(0)`;
                        
                        setTimeout(() => particle.remove(), 1000);
                    }, 300);
                }, i * 50);
            }
        }
        
        // ========== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø –ò –ú–û–î–ê–õ–ö–ò ==========
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            const text = document.getElementById('notification-text');
            
            text.textContent = message;
            
            const colors = {
                'success': 'linear-gradient(135deg, var(--accent-green), #10b981)',
                'error': 'linear-gradient(135deg, var(--accent-red), #c53030)',
                'info': 'linear-gradient(135deg, var(--accent-blue), var(--accent-purple))',
                'warning': 'linear-gradient(135deg, var(--accent-yellow), #f59e0b)'
            };
            
            notification.style.background = colors[type] || colors.info;
            
            notification.classList.remove('show');
            setTimeout(() => notification.classList.add('show'), 10);
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        function showModal(title, message, onConfirm) {
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalMessage = document.getElementById('modal-message');
            const confirmBtn = document.getElementById('modal-confirm');
            const cancelBtn = document.getElementById('modal-cancel');
            
            modalTitle.textContent = title;
            modalMessage.textContent = message;
            
            modal.classList.add('show');
            
            confirmBtn.onclick = () => {
                modal.classList.remove('show');
                if (onConfirm) onConfirm();
            };
            
            cancelBtn.onclick = () => {
                modal.classList.remove('show');
            };
        }
        
        // ========== –ó–ê–ì–†–£–ó–ö–ê –ò–ì–†–´ ==========
        function initGame() {
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
            let progress = 0;
            const interval = setInterval(() => {
                progress += 2;
                document.getElementById('loading-bar').style.width = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        document.getElementById('loading-screen').style.opacity = '0';
                        setTimeout(() => {
                            document.getElementById('loading-screen').style.display = 'none';
                            document.getElementById('game-container').style.display = 'block';
                            
                            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
                            createParticles();
                            animateCharacter();
                            createFloatingEffect();
                            updateUI();
                            
                            // Telegram WebApp
                            if (window.Telegram?.WebApp) {
                                const tg = window.Telegram.WebApp;
                                tg.expand();
                                tg.ready();
                            }
                            
                            showNotification('üéÆ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ HEROES ARENA!', 'info');
                        }, 500);
                    }, 500);
                }
            }, 30);
        }
        
        // ========== –ó–ê–ü–£–°–ö ==========
        document.addEventListener('DOMContentLoaded', initGame);
        
        // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏
        setInterval(() => {
            if (gameState.energy < 10) {
                gameState.energy++;
                updateUI();
            }
        }, 60000); // 1 –º–∏–Ω—É—Ç–∞
    </script>
</body>
</html>
