class TelegramAPI {
    constructor() {
        this.tg = window.Telegram?.WebApp;
        this.user = null;
        
        if (this.tg) {
            this.init();
        } else {
            console.log("Демо-режим: запущено вне Telegram");
            this.user = { id: 123456, first_name: "Тест", username: "test_wizard" };
        }
    }
    
    init() {
        this.tg.expand();
        this.user = this.tg.initDataUnsafe.user;
        this.tg.setHeaderColor('#2c3e50');
        this.tg.setBackgroundColor('#1a1a2e');
        console.log("Telegram User:", this.user);
    }
    
    getUser() {
        return this.user;
    }
    
    showAlert(message) {
        if (this.tg) {
            this.tg.showAlert(message);
        } else {
            alert(message);
        }
    }
}

const TelegramApp = new TelegramAPI();
